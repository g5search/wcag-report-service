# wcag-report-service

> A front-end for Client facing WCAG reporting.

The WCAG reports are generated by a separate application using Puppeteer and Axe-Core from Deque.

## Development

``` bash
# install dependencies
npm install
# serve with hot reload at localhost:3000
npm run dev
```
For detailed explanation on how things work, check out [Nuxt.js docs](https://nuxtjs.org).

> This app also uses `dotenv` files. Use the `.env.template` file for a list of required environment variables, then save them with their values in a `.env` file.

## Deployment

Deployments for the Audit Service are managed by Helm and deployed using `npm run deploy`.

> Make sure to run the command from the root of the project.
> Make sure you are on the branch and commit that you want to deploy.
> Make sure you set the kubectl context you want to deploy to.

You can override some of these settings using the shell script directly.

```
./upgrade.sh -t <tag> -d <deployment> -p <project>

-t    <tag> is the branch-sha combo tagged to the docker image in Codefresh. Ex. ci-plan-87432e
-d    <deployment> is the name of the app you are deploying. Default is "cas".
-p    <project> is the project name, aka the context, you are deploying to. Ex. opex-staging-b877
```

Any inadvertant deploys can be reversed by running `helm rollback accessibility`.

